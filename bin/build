#!/usr/bin/env bash

# Delete existing files
rm -rf docs
rm -rf lib/wealthsimple/api
rm -rf lib/wealthsimple/models
rm -rf spec/api
rm -rf spec/models

swagger-codegen generate \
 -i https://api.sandbox.wealthsimple.com/v1/swagger.json \
 -l ruby \
 -t custom-templates \
 -o . \
 --config config.json

# Append custom config require to lib/wealthsimple.rb
echo "require 'wealthsimple/custom'" >> lib/wealthsimple.rb
